<!-- News Section -->
<div ng-init="getNews()" class="container">

    <!-- Main News -->
    <div class = "row">
        <div ng-repeat= "new in news | filter : text">
                <div ng-if="$index == 0" class = "col-xs-12 col-md-4">
                    <img class="img-responsive center-block col-xs-12 feed-img" ng-click="showNew(new.id)" src="{{getImage(new.thumbnail_media_type, new.thumbnail_image)}}"/>
                    <h4 class="feed-category"><span class="label label-warning">{{new.category}}</span></h4>
                    <h2 ng-click="showNew(new.id)" class="feed-title">{{new.title}}</h2>
                    <h4 class="feed-subtitle">{{new.subtitle}}</h4>
                    <p class="feed-abstract">{{new.abstract}}</p>
                    <button type="button" ng-show="user.loggedIn" ng-click="editNew(new.id)" class="btn"><span class="glyphicon glyphicon-pencil"></span></button>
                    <button type="button" ng-show="user.loggedIn" ng-click="confirmDelete(new.id)" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
                </div>
                <div ng-if="$index == 1" class = "col-xs-12 col-md-4">
                    <img class="img-responsive center-block col-xs-12 feed-img" ng-click="showNew(new.id)" src="{{getImage(new.thumbnail_media_type, new.thumbnail_image)}}"/>
                    <h4 class="feed-category"><span class="label label-warning">{{new.category}}</span></h4>
                    <h2 ng-click="showNew(new.id)" class="feed-title">{{new.title}}</h2>
                    <h4 class="feed-subtitle">{{new.subtitle}}</h4>
                    <p class="feed-abstract">{{new.abstract}}</p>
                    <button type="button" ng-show="user.loggedIn" ng-click="editNew(new.id)" class="btn"><span class="glyphicon glyphicon-pencil"></span></button>
                    <button type="button" ng-show="user.loggedIn" ng-click="confirmDelete(new.id)" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
                </div>
                <div ng-if="$index == 2" class = "col-xs-12 col-md-4">
                    <img class="img-responsive center-block col-xs-12 feed-img" ng-click="showNew(new.id)" src="{{getImage(new.thumbnail_media_type, new.thumbnail_image)}}"/>
                    <h4 class="feed-category"><span class="label label-warning">{{new.category}}</span></h4>
                    <h2 ng-click="showNew(new.id)" class="feed-title">{{new.title}}</h2>
                    <h4 class="feed-subtitle">{{new.subtitle}}</h4>
                    <p class="feed-abstract">{{new.abstract}}</p>
                    <button type="button" ng-show="user.loggedIn" ng-click="editNew(new.id)" class="btn"><span class="glyphicon glyphicon-pencil"></span></button>
                    <button type="button" ng-show="user.loggedIn" ng-click="confirmDelete(new.id)" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
                </div>
            
        </div>
    </div>
    <hr class="hidden-xs"/>

    <!-- Rest of News -->
    <div class = "row">

        <!-- Desktop -->
        <div class="col-xs-12 col-md-8 hidden-xs">
            <div ng-repeat= "new in news | filter : text">
                <div ng-if="$index > 2" class = "col-xs-12">
                    <div class="row">
                        <div class="col-xs-12 col-md-4">
                            <img class="img-responsive center-block col-xs-12 small-feed-img" ng-click="showNew(new.id)" src="{{getImage(new.thumbnail_media_type, new.thumbnail_image)}}"/>
                        </div>
                        <div class="col-xs-12 col-md-8">
                            <h4 class="feed-category"><span class="label label-warning">{{new.category}}</span></h4>
                            <h2 ng-click="showNew(new.id)" class="feed-title">{{new.title}}</h2>
                            <h4 class="feed-subtitle">{{new.subtitle}}</h4>
                            <p class="feed-abstract">{{new.abstract}}</p>
                            <button type="button" ng-show="user.loggedIn" ng-click="editNew(new.id)" class="btn"><span class="glyphicon glyphicon-pencil"></span></button>
                            <button type="button" ng-show="user.loggedIn" ng-click="confirmDelete(new.id)" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile -->
        <div ng-repeat= "new in news | filter : text" class="hidden-sm hidden-md hidden-lg hidden-xl">
            <div ng-if="$index > 2" class = "col-xs-12 col-sm-4">
                <img class="img-responsive center-block col-xs-12 feed-img" ng-click="showNew(new.id)" src="{{getImage(new.thumbnail_media_type, new.thumbnail_image)}}"/>
                <h4 class="feed-category"><span class="label label-warning">{{new.category}}</span></h4>
                <h2 ng-click="showNew(new.id)" class="feed-title">{{new.title}}</h2>
                <h4 class="feed-subtitle">{{new.subtitle}}</h4>
                <p class="feed-abstract">{{new.abstract}}</p>
                <button type="button" ng-show="user.loggedIn" ng-click="editNew(new.id)" class="btn"><span class="glyphicon glyphicon-pencil"></span></button>
                <button type="button" ng-show="user.loggedIn" ng-click="confirmDelete(new.id)" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
            </div>
        </div>

        <!-- Twitter -->
        <div class="col-md-4 pull-right hidden-xs">
            <div class="row">
                <div class="well col-xs-11 pull-right">
                    <a class="twitter-timeline" data-height="70vh" href="https://twitter.com/EIT_Digital?ref_src=twsrc%5Etfw">Tweets by EIT_Digital</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Modal -->
<div class="modal fade" id="alert" role="dialog">
        <div class="modal-dialog modal-sm">
            <!-- Modal content-->
            <div class="modal-content">
                <!-- Confirmation -->
                <div ng-show="confirmation" class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Careful!</h4>
                </div>
                <div ng-show="confirmation" class="modal-body">
                    Are you sure you want to delete the Article <strong>{{articleToDelete.title}}</strong>?
                </div>
                <div ng-show="confirmation" class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="deleteNew()">Yes</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                </div>
                <!-- Success! -->
                <div ng-show="deleted" class="modal-header">
                    <button type="button"  ng-click="hideModal()"class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Success!</h4>
                </div>
                <div ng-show="deleted" class="modal-body">
                    Great! The article has been deleted succesfully!
                </div>
                 
                <!-- Fail -->   
                <div ng-show="failed" class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Ouch!</h4>
                </div>
                <div  ng-show="failed" class="modal-body">
                    The article coudn't be deleted! Try again in a few minutes!
                </div>
            </div>
        </div>
    </div>